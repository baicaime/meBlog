<!doctype html><html lang=zh-CN><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=author content="白菜"><meta property="og:url" content="https://blog.baicai.me/article/2022/create_use1/"><link rel=canonical href=https://blog.baicai.me/article/2022/create_use1/><style type=text/css>body{font-family:monospace}</style><title>PostgresSQL 基本用法：新建数据库、用户、连接、备份/恢复数据库</title>
<meta name=author content="白菜"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href="/css/baicai_custom.css?rnd=1740324581"></head><body><header>============<br>== <a href=https://blog.baicai.me/>白菜</a> ==<br>============<div style=float:right>一个勤奋的代码搬运工!</div><br><p><nav><a href=/><b>Start</b></a>.
<a href=/posts/><b>文章</b></a>.
<a href=/categories/><b>分类</b></a>.
<a href=/tags/><b>标签</b></a>.
<a href=/about/><b>关于</b></a>.</nav></p></header><main><article><h1>PostgresSQL 基本用法：新建数据库、用户、连接、备份/恢复数据库</h1><b><time>2022.07.22 14:26</time></b>
<a href=/tags/postgres>postgres</a><div><p>系统环境：
Debian 11</p><h3 id=切换到超级用户>切换到超级用户：</h3><pre tabindex=0><code>    sudo su postgres
</code></pre><h3 id=进入psql>进入psql：</h3><pre tabindex=0><code>    psql
</code></pre><h3 id=创建一个用户>创建一个用户：</h3><pre tabindex=0><code>    CREATE USER username WITH PASSWORD &#39;password&#39;;
</code></pre><h3 id=查看角色列表>查看角色列表：</h3><pre tabindex=0><code>    \du
</code></pre><h3 id=创建数据库并制定所有者和编码>创建数据库并制定所有者和编码：</h3><pre tabindex=0><code>    CREATE DATABASE dbname WITH OWNER username ENCODING UTF8;
</code></pre><h4 id=创建一个数据库>创建一个数据库：</h4><pre tabindex=0><code>    CREATE DATABASE dbname;
</code></pre><h4 id=查看数据库列表>查看数据库列表：</h4><pre tabindex=0><code>    \l
</code></pre><h4 id=更改刚创建的数据库所有权>更改刚创建的数据库所有权：</h4><pre tabindex=0><code>    ALTER DATABASE dbname OWNER TO username;
</code></pre><h4 id=删除表字段>删除表字段</h4><p>要删除一个字段，使用下面这样的命令：</p><pre tabindex=0><code>    ALTER TABLE products DROP COLUMN description;
</code></pre><p>不管字段里有啥数据，都会消失，和这个字段相关的约束也会被删除。不过， 如果这个字段被另一个表的外键约束所引用，PostgreSQL 则不会隐含地删除该约束。你可以通过使用CASCADE指明删除任何依赖该字段的东西：</p><pre tabindex=0><code>    ALTER TABLE products DROP COLUMN description CASCADE;
</code></pre><h3 id=通过psql连接数据库>通过psql连接数据库</h3><pre tabindex=0><code>    psql -h 127.0.0.1 -p 5432 -U username -d dbname
</code></pre><h3 id=备份数据库>备份数据库</h3><pre tabindex=0><code>    pg_dump dbname &gt; dbname.dump
</code></pre><h3 id=恢复数据库>恢复数据库</h3><pre tabindex=0><code>    psql -f dbname.dump -d dbname
</code></pre></div></article></main><aside><div><div><h3>LATEST POSTS</h3></div><div><ul><li><a href=/article/2025/nginx_too_many_open_files/>Nginx 出现 Too many open files 错误与修复</a></li><li><a href=/article/2025/ifconfig_interfaces/>Debian12 系统添加多个IP</a></li><li><a href=/article/2025/linux_curl/>linux测试url的访问速度</a></li><li><a href=/article/2025/giffgaff_wificall/>Giffgaff 打开 wificall 的操作步骤及分流规则</a></li><li><a href=/article/2024/docker_export_import_save_load/>Docker本地镜像的导出、导入 (export,import,save,load)</a></li></ul></div></div></aside><footer><p>&copy; 2025 <a href=https://blog.baicai.me/><b>baicai.me</b></a>.
<a href=/links/><b>友情链接</b></a>.
<a href=/index.xml><b>RSS</b></a>.</p></footer></body></html>