<!doctype html><html lang=zh-CN><head><meta name=generator content="Hugo 0.145.0"><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=author content="白菜"><meta property="og:url" content="https://blog.baicai.me/"><link rel=canonical href=https://blog.baicai.me/><style type=text/css>body{font-family:monospace}</style><title>白菜</title>
<meta name=description content="一个勤奋的代码搬运工!"><meta name=author content="白菜"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href="/css/baicai_custom.css?rnd=1743157978"><link rel=alternate type=application/rss+xml href=/index.xml title=白菜></head><body><header>============<br>== <a href=https://blog.baicai.me/>白菜</a> ==<br>============<div style=float:right>一个勤奋的代码搬运工!</div><br><p><nav><a href=/><b>Start</b></a>.
<a href=/posts/><b>文章</b></a>.
<a href=/categories/><b>分类</b></a>.
<a href=/tags/><b>标签</b></a>.
<a href=/about/><b>关于</b></a>.</nav></p></header><main><article><h1><a href=https://blog.baicai.me/article/2021/rustproxy/>Rust 镜像源</a></h1><b><time>2021.06.25 22:53</time></b>
<a href=/tags/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB>技术分享</a>
<a href=/tags/rust>Rust</a><div><p>通常cargo跑得挺顺畅，不怎么需要proxy。但有备无患。</p><h3 id=cratesio-和-rustup-的国内镜像源>crates.io 和 rustup 的国内镜像源</h3><p>字节跳动提供的：https://rsproxy.cn/</p><p>中国科技大学的：https://mirrors.ustc.edu.cn/help/crates.io-index.html</p><p>清华大学的：https://mirrors.tuna.tsinghua.edu.cn/help/rustup/</p><p>上海交通大学的：https://git.sjtu.edu.cn/sjtug/crates.io-index</p><h3 id=更换国内源>更换国内源</h3><p>更换为国内源，否则安装太慢了。
新建文件：~/.cargo/config，内容替换为如下，replace-with 这行可自己 ping 文件中各个国内源头，看哪个源快用哪个：</p><pre tabindex=0><code class=language-conf data-lang=conf>[source.crates-io]
registry = &#34;https://github.com/rust-lang/crates.io-index&#34;

# 替换成你偏好的镜像源
replace-with = &#39;sjtu&#39;

# 清华大学
[source.tuna]
registry = &#34;https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git&#34;

# 中国科学技术大学
[source.ustc]
registry = &#34;git://mirrors.ustc.edu.cn/crates.io-index&#34;

# 上海交通大学
[source.sjtu]
registry = &#34;https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index&#34;

# rustcc社区
[source.rustcc]
registry = &#34;git://crates.rustcc.cn/crates.io-index&#34;

# 字节跳动
[source.rsproxy]
registry = &#34;https://rsproxy.cn/crates.io-index&#34;
</code></pre></div></article><article><h1><a href=https://blog.baicai.me/article/2021/sharkle/>给我来点酷炫玩意-Sharkle</a></h1><b><time>2021.06.23 12:23</time></b>
<a href=/tags/web%E5%89%8D%E7%AB%AF>web前端</a>
<a href=/tags/%E5%88%9B%E6%84%8F>创意</a>
<a href=/tags/%E7%BD%91%E9%A1%B5%E7%89%B9%E6%95%88>网页特效</a><div><blockquote><p>网页前端是一门技术活！出色的网站除了后台够快够可靠，也非常需要前端吸引眼球。在这个网站里，点击SHOW ME SOMETHING AWESOME就能随机跳转到一个新页面，往往是一些用了平时不太多见的网页设计元素制作出来的页面演示，有时候也会有独到设计的网页游戏，或许还有些别的内容。这个网站收录的内容都挺不错，有些网站的质量完全可以拿出来单独写一篇文章。</p></blockquote><p>传送门 <a href=https://sharkle.com/>https://sharkle.com/</a></p><h3 id=方法>方法</h3><p>进入网站直接点击SHOW ME SOMETHING AWESOME即可欣赏！</p></div></article><article><h1><a href=https://blog.baicai.me/article/2021/cargo-wix/>Cargo Wix 创建Windows安装程序的cargo子命令</a></h1><b><time>2021.06.22 22:48</time></b>
<a href=/tags/wix>wix</a>
<a href=/tags/rust>Rust</a><div><p>cargo-wix：创建Windows安装程序的cargo子命令
它使用二进制项目的发行版中的构建Windows安装程序（msi）。 如果可以使用提供的应用程序提供代码签名证书，则它还支持对Windows安装程序进行签名。</p><h3 id=快速开始>快速开始</h3><p>启动命令提示符（cmd.exe），然后执行以下命令：</p><pre tabindex=0><code>C:\&gt;cargo install cargo-wix
C:\&gt;cd Path\To\Project
C:\Path\To\Project\&gt;cargo wix init
C:\Path\To\Project\&gt;cargo wix
</code></pre><p>该项目的Windows安装程序（msi）将位于C:\Path\To\Project\target\wix文件夹中。</p><h3 id=官方文档>官方文档</h3><p><a href=https://crates.io/crates/cargo-wix>https://crates.io/crates/cargo-wix</a></p></div></article><article><h1><a href=https://blog.baicai.me/article/2021/linux_deskreen/>用 Deskreen 将你的 Linux 屏幕镜像或串流到任何设备上</a></h1><b><time>2021.06.21 19:50</time></b>
<a href=/tags/linux>linux</a>
<a href=/tags/deskreen>deskreen</a><div><blockquote><p>如果你有多显示器设置，你会意识到拥有多个屏幕的好处。而且，有了 Deskreen，你可以把任何设备变成你的副屏。</p></blockquote><h3 id=deskreen将任何设备变成你的-linux-系统的副屏>Deskreen：将任何设备变成你的 Linux 系统的副屏</h3><p>Deskreen 是一个自由开源的应用，可以让你使用任何带有 Web 浏览器的设备来作为电脑的副屏。</p><p>如果你愿意，它还支持多个设备连接。</p><p>Deskreen 很容易使用，当你的所有设备都连接到同一个 Wi-Fi 网络时，它可以正常工作。</p><p>让我们来看看它的功能和工作原理。
Deskreen 的功能</p><p>Deskreen 的功能包括以下要点：</p><ul><li>分享整个屏幕的能力</li><li>选择一个特定的应用窗口进行串流</li><li>翻转模式，将你的屏幕作为提词器使用</li><li>支持多种设备</li><li>高级视频质量设置</li><li>提供端对端加密</li><li>最小的系统要求</li><li>黑暗模式</li></ul><p>没有一个冗长的功能列表，但对大多数用户来说应该是足够的。</p><h3 id=如何使用-deskreen-应用>如何使用 Deskreen 应用？</h3><p>Deskreen 使用分为三个简单的步骤，让我为你强调一下，以便你开始使用：</p><p>首先，当你启动该应用时，它会显示一个二维码和一个 IP 地址，以帮助你用 Web 浏览器连接其他设备，以串流你的屏幕。</p><p>你可以按你喜欢的方式，在你的辅助设备上的 Web 浏览器的帮助下建立连接。</p><p>当你扫描二维码或在浏览器的地址栏中输入 IP 地址，你会在 Deskreen 应用上得到一个提示，允许或拒绝连接。除非是你不认识它，否则就允许吧。</p><p>接下来，你将被要求选择你想要串流的内容（你的整个屏幕或特定的应用窗口）：</p><p>你可以选择串流整个屏幕或选择你想串流的窗口。然而，并不是每个应用窗口都能被检测到。</p><p>你只需要选择源并确认，就可以了。你应该注意到它在你的副屏（手机/桌面）上开始串流。</p><p>Deskreen 还为你提供了管理连接设备的能力。因此，如果你需要断开任何会话或所有会话的连接，你可以从设置中进行操作。</p><h3 id=在-linux-中安装-deskreen>在 Linux 中安装 Deskreen</h3><p>你会找到一个用于 Linux 机器的 DEB 包和 AppImage 文件。如果你不知道，可以通过我们的 安装 DEB 包 和 使用 AppImage 文件 指南来安装它。</p><a href=https://blog.baicai.me/article/2021/linux_deskreen/>Read more...</a></div></article><article><h1><a href=https://blog.baicai.me/article/2021/the-zen-zone/>为你营造专注冥想的时间-The Zen Zone</a></h1><b><time>2021.06.21 16:57</time></b>
<a href=/tags/%E4%B8%93%E6%B3%A8>专注</a>
<a href=/tags/%E5%86%A5%E6%83%B3>冥想</a>
<a href=/tags/%E5%B0%8F%E6%B8%B8%E6%88%8F>小游戏</a><div><blockquote><p>网站为你营造了专注冥想的时间，通过三个简单的小游戏，你可以进入一个精神集中的状态，从而让大脑思维平静下来！</p></blockquote><p>传送门 <a href=https://thezen.zone/>https://thezen.zone/</a></p><h3 id=方法>方法</h3><p>进入网站直接开始冥想吧！</p></div></article><article><h1><a href=https://blog.baicai.me/article/2021/skylinewebcams/>全球高清实况摄像头-Skylinewebcams</a></h1><b><time>2021.06.14 20:57</time></b>
<a href=/tags/%E5%85%A8%E7%90%83>全球</a>
<a href=/tags/%E6%91%84%E5%83%8F%E5%A4%B4>摄像头</a>
<a href=/tags/%E9%A3%8E%E6%99%AF>风景</a><div><blockquote><p>网站收录了全球范围内的公开实况摄像头，你可以看到世界各地的文化遗产、城市风光、人气景点！</p></blockquote><p>传送门 <a href=https://www.skylinewebcams.com/>https://www.skylinewebcams.com/</a></p><h3 id=方法>方法</h3><p>网站支持中文，进入后直接观看！</p></div></article><article><h1><a href=https://blog.baicai.me/article/2021/linux_cmd/>Linux 常用命令</a></h1><b><time>2021.06.05 10:31</time></b>
<a href=/tags/shell%E8%84%9A%E6%9C%AC>Shell脚本</a>
<a href=/tags/linux>linux</a><div><p>Linux 常用命令</p><h3 id=日期>日期</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>$(</span>date -d <span style=color:#e6db74>&#39;1 day ago&#39;</span> <span style=color:#e6db74>&#39;+%Y-%m-%d&#39;</span><span style=color:#66d9ef>)</span>
</span></span></code></pre></div><p>常用方法</p><h3 id=数字格式化>数字格式化</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>part<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>printf <span style=color:#e6db74>&#34;%03d&#34;</span> $i<span style=color:#e6db74>`</span> <span style=color:#75715e># 左补0</span>
</span></span></code></pre></div><h3 id=删除旧文件>删除旧文件</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 找出5天前修改的文件名以.tar结尾的文件进行删除</span>
</span></span><span style=display:flex><span>find /www/backup -mtime +5 -name <span style=color:#e6db74>&#34;*.tar&#34;</span>  |xargs rm
</span></span></code></pre></div><h3 id=for循环>for循环</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#f92672>((</span>i<span style=color:#f92672>=</span>0;i&lt;10;i++<span style=color:#f92672>))</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>_date<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>date +%Y-%m-%d -d <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>i<span style=color:#e6db74>}</span><span style=color:#e6db74> day&#34;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>echo $_date
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i in <span style=color:#f92672>{</span>1..10<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>        echo $i
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h3 id=文件合并>文件合并</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find ./ -name <span style=color:#e6db74>&#34;item*&#34;</span> | xargs sed <span style=color:#e6db74>&#39;a\&#39;</span> &gt; all.txt
</span></span><span style=display:flex><span>find ./ -name <span style=color:#e6db74>&#34;item*&#34;</span> | xargs cat &gt; all.txt
</span></span><span style=display:flex><span>:s/old/new           <span style=color:#75715e>#替换当前行的第一个old为new</span>
</span></span><span style=display:flex><span>:s/old/new/g         <span style=color:#75715e>#替换当前行的所有的old为new</span>
</span></span><span style=display:flex><span>:.,$s/old/new        <span style=color:#75715e>#替换当前行到最后行的第一个old为new</span>
</span></span><span style=display:flex><span>:.,$s/old/new/g      <span style=color:#75715e>#替换当前行到最后行的所有old为new</span>
</span></span><span style=display:flex><span>:N,Ms/old/new        <span style=color:#75715e>#替换第N行到第M行的第一个old为new</span>
</span></span><span style=display:flex><span>:N,Ms/old/new/g      <span style=color:#75715e>#替换第N行到第M行的所有old为new</span>
</span></span><span style=display:flex><span>:N,Ms/old/new/gc     <span style=color:#75715e>#替换第N行到第M行的所有old为new，且逐一询问是否删除</span>
</span></span><span style=display:flex><span>:%s/old/new          <span style=color:#75715e>#替换所有行的第一个old为new</span>
</span></span><span style=display:flex><span>:%s/old/new/g        <span style=color:#75715e>#替换所有行的所有old为new</span>
</span></span></code></pre></div><h3 id=文件排序交集并集差集>文件排序、交集、并集、差集</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#排序</span>
</span></span><span style=display:flex><span>sort a.txt |uniq -c
</span></span><span style=display:flex><span><span style=color:#75715e>#一、交集</span>
</span></span><span style=display:flex><span>sort a.txt b.txt | uniq -d
</span></span><span style=display:flex><span><span style=color:#75715e>#二、并集</span>
</span></span><span style=display:flex><span>sort a.txt b.txt | uniq
</span></span><span style=display:flex><span><span style=color:#75715e>#三、差集 a.txt-b.txt:</span>
</span></span><span style=display:flex><span>sort a.txt b.txt b.txt | uniq -u
</span></span><span style=display:flex><span><span style=color:#75715e>#差集 b.txt - a.txt:</span>
</span></span><span style=display:flex><span>sort b.txt a.txt a.txt | uniq -u
</span></span></code></pre></div><h3 id=删除重复行>删除重复行</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sort -k2n all.txt | uniq &gt; real.out
</span></span><span style=display:flex><span>sort -k2n all.txt | awk <span style=color:#e6db74>&#39;{if ($0!=line) print;line=$0}&#39;</span>
</span></span><span style=display:flex><span>sort -k2n all.txt | sed <span style=color:#e6db74>&#39;$!N; /^\(.*\)\n\1$/!P; D&#39;</span>
</span></span></code></pre></div><h3 id=删除空格>删除空格</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat all.txt |sed s/<span style=color:#f92672>[[</span>:space:<span style=color:#f92672>]]</span>//g
</span></span></code></pre></div><h3 id=awk-去重>awk 去重</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>awk <span style=color:#e6db74>&#39;!($1 in a){a[$1];print $1}&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#或</span>
</span></span><span style=display:flex><span>sort $1 | uniq 
</span></span><span style=display:flex><span><span style=color:#75715e># awk结果使用逗号间隔拼接</span>
</span></span><span style=display:flex><span>awk -F <span style=color:#e6db74>&#39;,&#39;</span> <span style=color:#e6db74>&#39;{print $1}&#39;</span> | xargs | tr <span style=color:#e6db74>&#39; &#39;</span> <span style=color:#e6db74>&#39;,&#39;</span>
</span></span></code></pre></div><h3 id=常用状态查看>常用状态查看</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 按CPU和内存倒序前n个进程</span>
</span></span><span style=display:flex><span>ps -aux --sort -pcpu,+pmem | head -n <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 按进程名查看</span>
</span></span><span style=display:flex><span>ps -f -C java
</span></span></code></pre></div><h3 id=文件同步rsync>文件同步rsync</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>rsync -zvrtopgl --progress --delete /fromDist/ root@s1:/toDist/
</span></span></code></pre></div><h3 id=链接状态统计>链接状态统计</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>netstat -n | awk <span style=color:#e6db74>&#39;/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># TCP连接状态详解 </span>
</span></span><span style=display:flex><span><span style=color:#75715e># LISTEN: 服务器在侦听来自远方的TCP端口的连接请求</span>
</span></span><span style=display:flex><span><span style=color:#75715e># SYN-SENT: 在发送连接请求后等待匹配的连接请求</span>
</span></span><span style=display:flex><span><span style=color:#75715e># SYN_RECV: 一个连接请求已经到达，等待确认</span>
</span></span><span style=display:flex><span><span style=color:#75715e># SYN-RECEIVED: 再收到和发送一个连接请求后等待对方对连接请求的确认</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ESTABLISHED: 代表一个打开的连接/正常数据传输状态/当前并发连接数</span>
</span></span><span style=display:flex><span><span style=color:#75715e># FIN_WAIT1: 等待远程TCP连接中断请求，或先前的连接中断请求的确认/应用说它已经完成</span>
</span></span><span style=display:flex><span><span style=color:#75715e># FIN_WAIT2: 从远程TCP等待连接中断请求/另一边已同意释放</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLOSE-WAIT: 等待从本地用户发来的连接中断请求</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLOSING: 等待远程TCP对连接中断的确认/两边同时尝试关闭</span>
</span></span><span style=display:flex><span><span style=color:#75715e># LAST-ACK: 等待原来的发向远程TCP的连接中断请求的确认/等待所有分组死掉</span>
</span></span><span style=display:flex><span><span style=color:#75715e># TIME-WAIT: 等待足够的时间以确保远程TCP接收到连接中断请求的确认/另一边已初始化一个释放</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ITMED_WAIT:  等待所有分组死掉</span>
</span></span><span style=display:flex><span><span style=color:#75715e># CLOSED： 没有任何连接状态</span>
</span></span></code></pre></div><h3 id=cpu内存系统信息查看>CPU/内存/系统信息查看</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># cpu</span>
</span></span><span style=display:flex><span>grep <span style=color:#e6db74>&#34;model name&#34;</span> /proc/cpuinfo 
</span></span><span style=display:flex><span>cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c
</span></span><span style=display:flex><span>cat /proc/cpuinfo | grep physical | uniq -c
</span></span><span style=display:flex><span><span style=color:#75715e># cpu位数</span>
</span></span><span style=display:flex><span>echo $HOSTTYPE
</span></span><span style=display:flex><span><span style=color:#75715e># 内存</span>
</span></span><span style=display:flex><span>grep MemTotal /proc/meminfo 
</span></span><span style=display:flex><span><span style=color:#75715e># linux 版本</span>
</span></span><span style=display:flex><span>cat /etc/redhat-release
</span></span><span style=display:flex><span>cat /etc/os-release
</span></span><span style=display:flex><span>cat /etc/lsb-release
</span></span><span style=display:flex><span><span style=color:#75715e># linux 内核版本</span>
</span></span><span style=display:flex><span>uname -a 
</span></span><span style=display:flex><span>uname -r
</span></span></code></pre></div><h3 id=常用监控工具>常用监控工具</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 网络监控</span>
</span></span><span style=display:flex><span>iftop
</span></span><span style=display:flex><span><span style=color:#75715e># IO监控</span>
</span></span><span style=display:flex><span>iotop
</span></span><span style=display:flex><span><span style=color:#75715e># 负载监控</span>
</span></span><span style=display:flex><span>htop
</span></span><span style=display:flex><span>top
</span></span></code></pre></div><h3 id=进程监控>进程监控</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pidstat -p <span style=color:#ae81ff>843</span> <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>3</span> -u -t
</span></span><span style=display:flex><span><span style=color:#75715e># -u：代表对 CPU 使用率的监控</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 参数 1 3 代表每秒采样一次，一共三次</span>
</span></span><span style=display:flex><span><span style=color:#75715e># -t：将监控级别细化到线程</span>
</span></span></code></pre></div><h3 id=ssh相关>ssh相关</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 秘钥生成</span>
</span></span><span style=display:flex><span>ssh-keygen -t rsa -b <span style=color:#ae81ff>4096</span> -C <span style=color:#e6db74>&#34;your_hostname&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 免密登录</span>
</span></span><span style=display:flex><span>cat ~/.ssh/id_rsa.pub | ssh  root@ip <span style=color:#e6db74>&#34;cat &gt;&gt; .ssh/authorized_keys&#34;</span>
</span></span></code></pre></div><h3 id=firewalld防火墙使用>firewalld防火墙使用</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 禁止ping</span>
</span></span><span style=display:flex><span>firewall-cmd --permanent --add-rich-rule<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;rule protocol value=icmp drop&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 允许192.168.1.0/24主机所有连接</span>
</span></span><span style=display:flex><span>firewall-cmd --add-rich-rule<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;rule family=&#34;ipv4&#34; source address=&#34;192.168.1.0&#34; accept&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 禁止某IP访问</span>
</span></span><span style=display:flex><span>firewall-cmd --permanent --zone<span style=color:#f92672>=</span>public --add-rich-rule<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;rule family=ipv4 source address=&#39;123.56.247.76/24&#39; reject&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 开放端口</span>
</span></span><span style=display:flex><span>firewall-cmd --zone<span style=color:#f92672>=</span>public --permanent --add-port<span style=color:#f92672>=</span>8080/tcp
</span></span><span style=display:flex><span>firewall-cmd --reload
</span></span></code></pre></div><h3 id=文件统计>文件统计</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls -g |awk <span style=color:#e6db74>&#39;BEGIN{sum=0}{sum+=$4}END{print sum/(1024*1024*1024)}&#39;</span>
</span></span></code></pre></div><h3 id=history格式及数量修改>history格式及数量修改</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>export HISTSIZE<span style=color:#f92672>=</span><span style=color:#ae81ff>10000</span>
</span></span><span style=display:flex><span>export HISTTIMEFORMAT<span style=color:#f92672>=</span><span style=color:#e6db74>&#34; %Y-%m-%d %H:%M:%S - `who am i 2&gt;/dev/null | awk &#39;{print </span>$NF<span style=color:#e6db74>}&#39;|sed -e &#39;s/[()]//g&#39;` - `who -u am i |awk &#39;{print </span>$1<span style=color:#e6db74>}&#39;` &#34;</span>
</span></span><span style=display:flex><span>export PROMPT_COMMAND<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;history 1 &gt;&gt; /var/log/.myhistory&#34;</span> <span style=color:#75715e>#将命令记录输出到文本中</span>
</span></span><span style=display:flex><span>touch /var/log/.myhistory
</span></span><span style=display:flex><span>chmod  /var/log/.myhistory
</span></span></code></pre></div></div></article><article><h1><a href=https://blog.baicai.me/article/2021/awk-nginx-access_log/>awk 分析 nginx 运行日志常用指令</a></h1><b><time>2021.06.05 10:16</time></b>
<a href=/tags/shell%E8%84%9A%E6%9C%AC>Shell脚本</a>
<a href=/tags/awk>awk</a><div><p>awk 分析 nginx 运行日志常用指令</p><p>1.独立IP</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>awk <span style=color:#e6db74>&#39;{print $1}&#39;</span> access.log | sort -r |uniq -c | wc -l
</span></span></code></pre></div><p>2.统计PV</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>awk <span style=color:#e6db74>&#39;{print $6}&#39;</span> access.log | wc -l
</span></span></code></pre></div><p>3.查询访问最频繁的URL</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>awk <span style=color:#e6db74>&#39;{print $7}&#39;</span> access.log|sort | uniq -c |sort -n -k <span style=color:#ae81ff>1</span> -r|more
</span></span></code></pre></div><p>4.查询访问最频繁的IP</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>awk <span style=color:#e6db74>&#39;{print $1}&#39;</span> access.log|sort | uniq -c |sort -n -k <span style=color:#ae81ff>1</span> -r|more
</span></span></code></pre></div><p>5.UV统计：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>awk <span style=color:#e6db74>&#39;{print $6}&#39;</span> access.log | sort -r |uniq -c |wc -l
</span></span></code></pre></div><p>6.按小时统计</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat access.log |awk <span style=color:#e6db74>&#39;{print $4}&#39;</span> | awk -F <span style=color:#e6db74>&#39;:&#39;</span> <span style=color:#e6db74>&#39;{print $1,$2}&#39;</span>|uniq -c | awk <span style=color:#e6db74>&#39;{print $2&#34; &#34;$3&#34; &#34;$1}&#39;</span>
</span></span></code></pre></div></div></article><article><h1><a href=https://blog.baicai.me/article/2021/toml/>TOML 语言规范 1.0 正式版</a></h1><b><time>2021.06.05 02:59</time></b>
<a href=/tags/toml>TOML</a>
<a href=/tags/rust>Rust</a><div><p>👉 TOML 语言广泛用于 Rust 项目当中，cargo new 一个新项目时都会新建一个 toml 的配置文件，所以学习 Rust 过程中也有必要熟悉 TOML 语言的相关语法，从而熟练在 Rust 项目中编辑配置文件。</p><p>👉 本文来自 <a href=https://github.com/toml-lang/toml.io>toml-lang 的中文翻译版本</a>，本文收录在此处，只是方便 Rust 学习者统一查阅，若是发现有任何错误或需要完善地方，请在 toml.io 原项目仓库指出或修改错误。</p><h1 id=toml-v100>TOML v1.0.0</h1><p>全称：Tom 的（语义）明显、（配置）最小化的语言。（Tom&rsquo;s Obvious, Minimal Language）<br>作者：Tom Preston-Werner、Pradyun Gedam 等人。</p><h3 id=宗旨>宗旨</h3><p>TOML 旨在成为一个语义明显且易于阅读的最小化配置文件格式。<br>TOML 被设计成可以无歧义地映射为哈希表。<br>TOML 应该能很容易地被解析成各种语言中的数据结构。</p><h3 id=目录>目录</h3><ul><li><a href=#%E8%A7%84%E6%A0%BC>规格</a></li><li><a href=#%E6%B3%A8%E9%87%8A>注释</a></li><li><a href=#%E9%94%AE%E5%80%BC%E5%AF%B9>键值对</a></li><li><a href=#%E9%94%AE%E5%90%8D>键名</a></li><li><a href=#%E5%AD%97%E7%AC%A6%E4%B8%B2>字符串</a></li><li><a href=#%E6%95%B4%E6%95%B0>整数</a></li><li><a href=#%E6%B5%AE%E7%82%B9%E6%95%B0>浮点数</a></li><li><a href=#%E5%B8%83%E5%B0%94%E5%80%BC>布尔值</a></li><li><a href=#%E5%9D%90%E6%A0%87%E6%97%A5%E6%9C%9F%E6%97%B6%E5%88%BB>坐标日期时刻</a></li><li><a href=#%E5%90%84%E5%9C%B0%E6%97%A5%E6%9C%9F%E6%97%B6%E5%88%BB>各地日期时刻</a></li><li><a href=#%E5%90%84%E5%9C%B0%E6%97%A5%E6%9C%9F>各地日期</a></li><li><a href=#%E5%90%84%E5%9C%B0%E6%97%B6%E5%88%BB>各地时刻</a></li><li><a href=#%E6%95%B0%E7%BB%84>数组</a></li><li><a href=#%E8%A1%A8>表</a></li><li><a href=#%E5%86%85%E8%81%94%E8%A1%A8>内联表</a></li><li><a href=#%E8%A1%A8%E6%95%B0%E7%BB%84>表数组</a></li><li><a href=#%E6%96%87%E4%BB%B6%E6%89%A9%E5%B1%95%E5%90%8D>文件扩展名</a></li><li><a href=#mime-%E7%B1%BB%E5%9E%8B>MIME 类型</a></li><li><a href=#abnf-%E8%AF%AD%E6%B3%95>ABNF 语法</a></li></ul><h3 id=规格>规格</h3><ul><li>TOML 是大小写敏感的。</li><li>TOML 文件必须是合法的 UTF-8 编码的 Unicode 文档。</li><li>空白是指制表符（0x09）或空格（0x20）。</li><li>换行是指 LF（0x0A）或 CRLF（0x0D0A）。</li></ul><h3 id=注释>注释</h3><p>井字符将该行余下的部分标记为注释，除非它在字符串中。</p><a href=https://blog.baicai.me/article/2021/toml/>Read more...</a></div></article><article><h1><a href=https://blog.baicai.me/article/2021/tower-defense/>塔防游戏-YORG.io</a></h1><b><time>2021.06.02 19:52</time></b>
<a href=/tags/%E5%A4%9A%E4%BA%BA%E8%81%94%E6%9C%BA>多人联机</a>
<a href=/tags/%E5%A1%94%E9%98%B2>塔防</a>
<a href=/tags/%E7%BD%91%E9%A1%B5%E6%B8%B8%E6%88%8F>网页游戏</a>
<a href=/tags/tower-defense>Tower Defense</a><div><h3 id=塔防游戏>塔防游戏</h3><blockquote><p>可玩性很高的一款塔防游戏，需要各类元素合成，通过传送带传送宝石、木材、铁等元素，最后合成弓箭、大炮、闪电塔等来抵御怪兽的袭击，一玩就停不下来。</p></blockquote><p>传送门 <a href=https://yorg.io/>https://yorg.io/</a></p><h3 id=玩法>玩法</h3><p>通过传送带传送宝石、木材、铁等元素，最后合成弓箭、大炮、闪电塔等来抵御怪兽的袭击</p></div></article><div><a href=/page/6/>Previous Page</a>
7 of 8
<a href=/page/8/>Next Page</a></div></main><footer><p>&copy; 2025 <a href=https://blog.baicai.me/><b>baicai.me</b></a>.
<a href=/links/><b>友情链接</b></a>.
<a href=/index.xml><b>RSS</b></a>.</p></footer></body></html>